<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PantryPal AI - Discover dinner in seconds</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container header-container">
            <div class="logo">
                <img src="assets/logo.svg" alt="PantryPal AI Logo">
                <span>PantryPal AI</span>
            </div>
            <div class="header-actions">
                <div id="auth-status" class="auth-status">
                    <!-- Auth UI will be rendered here -->
                </div>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container hero-content">
            <div class="hero-text">
                <h1>Discover dinner in seconds</h1>
                <p>Transform your pantry ingredients into delicious meals with AI-powered recipe suggestions. Scan, save, and cook with confidence.</p>

                <div class="feature-badges">
                    <span class="badge">
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                            <path d="M8 2a.5.5 0 0 1 .5.5v5h5a.5.5 0 0 1 0 1h-5v5a.5.5 0 0 1-1 0v-5h-5a.5.5 0 0 1 0-1h5v-5A.5.5 0 0 1 8 2z"/>
                        </svg>
                        AI-assisted recipe ideas
                    </span>
                    <span class="badge">
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                            <path d="M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v13.5a.5.5 0 0 1-.777.416L8 13.101l-5.223 2.815A.5.5 0 0 1 2 15.5V2zm2-1a1 1 0 0 0-1 1v12.566l4.723-2.482a.5.5 0 0 1 .554 0L13 14.566V2a1 1 0 0 0-1-1H4z"/>
                        </svg>
                        Pantry vision powered by MobileNet
                    </span>
                    <span class="badge">
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                            <path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm.5-4.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0zM7.5 6a.5.5 0 0 0 0 1h1a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-1 0v1.5h-.5z"/>
                        </svg>
                        Personal recipe library saved on your device
                    </span>
                </div>
            </div>

            <div class="hero-illustration">
                <div class="glow-orb orb-1"></div>
                <div class="glow-orb orb-2"></div>
                <div class="glow-orb orb-3"></div>
            </div>
        </div>
    </section>

    <!-- Main Content -->
    <main class="main-content">
        <div class="container">
            <div class="three-column-layout">
                <!-- Column 1: Generate Recipe -->
                <div class="card">
                    <div class="card-header">
                        <h2>Generate a recipe</h2>
                        <p>Enter your ingredients and preferences</p>
                    </div>
                    <div class="card-body">
                        <form id="recipe-form">
                            <div class="form-group">
                                <label for="ingredients">Ingredients</label>
                                <textarea
                                    id="ingredients"
                                    placeholder="e.g., chicken, tomatoes, garlic, olive oil..."
                                    rows="4"
                                ></textarea>
                            </div>

                            <div class="form-group">
                                <label for="dietary-preference">Dietary Preference</label>
                                <select id="dietary-preference">
                                    <option value="none">No preference</option>
                                    <option value="vegetarian">Vegetarian</option>
                                    <option value="vegan">Vegan</option>
                                    <option value="gluten-free">Gluten-free</option>
                                    <option value="keto">Keto</option>
                                    <option value="paleo">Paleo</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label for="meal-type">Meal Type</label>
                                <select id="meal-type">
                                    <option value="any">Any</option>
                                    <option value="breakfast">Breakfast</option>
                                    <option value="lunch">Lunch</option>
                                    <option value="dinner">Dinner</option>
                                    <option value="snack">Snack</option>
                                    <option value="dessert">Dessert</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label for="cuisine-focus">Cuisine Focus</label>
                                <select id="cuisine-focus">
                                    <option value="any">Any</option>
                                    <option value="italian">Italian</option>
                                    <option value="mexican">Mexican</option>
                                    <option value="asian">Asian</option>
                                    <option value="mediterranean">Mediterranean</option>
                                    <option value="american">American</option>
                                    <option value="indian">Indian</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label for="mood-vibe">Mood or Vibe</label>
                                <select id="mood-vibe">
                                    <option value="any">Any</option>
                                    <option value="comfort">Comfort food</option>
                                    <option value="healthy">Healthy & light</option>
                                    <option value="quick">Quick & easy</option>
                                    <option value="fancy">Fancy & impressive</option>
                                    <option value="cozy">Cozy & warming</option>
                                </select>
                            </div>

                            <button type="submit" class="btn btn-primary">Generate recipe</button>
                        </form>

                        <div id="generated-recipes" class="generated-recipes"></div>
                    </div>
                </div>

                <!-- Column 2: Scan Pantry -->
                <div class="card">
                    <div class="card-header">
                        <h2>Scan your pantry</h2>
                        <p>Upload an image to detect ingredients</p>
                    </div>
                    <div class="card-body">
                        <div
                            id="drop-zone"
                            class="drop-zone"
                        >
                            <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                <polyline points="17 8 12 3 7 8"></polyline>
                                <line x1="12" y1="3" x2="12" y2="15"></line>
                            </svg>
                            <p class="drop-zone-text">Drag & drop an image here</p>
                            <p class="drop-zone-subtext">or click to select</p>
                            <input
                                type="file"
                                id="pantry-image-input"
                                accept="image/*"
                                hidden
                            >
                        </div>

                        <div id="image-preview" class="image-preview" style="display: none;">
                            <img id="preview-img" src="" alt="Pantry preview">
                        </div>

                        <button id="scan-pantry-btn" class="btn btn-secondary" disabled>Scan pantry</button>

                        <div id="detected-ingredients" class="detected-ingredients"></div>
                    </div>
                </div>

                <!-- Column 3: Saved Recipes -->
                <div class="card">
                    <div class="card-header">
                        <h2>Your saved recipes</h2>
                        <p>Your personal recipe collection</p>
                    </div>
                    <div class="card-body">
                        <div id="saved-recipes" class="saved-recipes">
                            <div class="empty-state">
                                <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                                    <path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"></path>
                                </svg>
                                <p>No saved recipes yet</p>
                                <p class="empty-state-subtext">Generate and save recipes to see them here</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <p>&copy; 2025 PantryPal AI - Version 2.0 with Cloud Sync</p>
        </div>
    </footer>

    <!-- Auth Modal -->
    <div id="auth-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <span class="modal-close">&times;</span>
            <h2 id="auth-modal-title">Sign In</h2>

            <div id="auth-form-container">
                <!-- Sign In Form -->
                <form id="signin-form" class="auth-form">
                    <div class="form-group">
                        <label for="signin-email">Email</label>
                        <input type="email" id="signin-email" required>
                    </div>
                    <div class="form-group">
                        <label for="signin-password">Password</label>
                        <input type="password" id="signin-password" required>
                    </div>
                    <button type="submit" class="btn btn-primary">Sign In</button>
                    <p class="auth-switch">
                        Don't have an account? <a href="#" id="show-signup">Sign up</a>
                    </p>
                    <p class="auth-switch">
                        <a href="#" id="show-reset">Forgot password?</a>
                    </p>
                </form>

                <!-- Sign Up Form -->
                <form id="signup-form" class="auth-form" style="display: none;">
                    <div class="form-group">
                        <label for="signup-name">Display Name</label>
                        <input type="text" id="signup-name" required>
                    </div>
                    <div class="form-group">
                        <label for="signup-email">Email</label>
                        <input type="email" id="signup-email" required>
                    </div>
                    <div class="form-group">
                        <label for="signup-password">Password</label>
                        <input type="password" id="signup-password" required minlength="6">
                    </div>
                    <button type="submit" class="btn btn-primary">Sign Up</button>
                    <p class="auth-switch">
                        Already have an account? <a href="#" id="show-signin">Sign in</a>
                    </p>
                </form>

                <!-- Password Reset Form -->
                <form id="reset-form" class="auth-form" style="display: none;">
                    <div class="form-group">
                        <label for="reset-email">Email</label>
                        <input type="email" id="reset-email" required>
                    </div>
                    <button type="submit" class="btn btn-primary">Send Reset Link</button>
                    <p class="auth-switch">
                        Remember your password? <a href="#" id="back-to-signin">Sign in</a>
                    </p>
                </form>
            </div>

            <div class="auth-divider">
                <span>OR</span>
            </div>

            <button id="google-signin-btn" class="btn btn-google">
                <svg width="18" height="18" viewBox="0 0 18 18" fill="none">
                    <path d="M17.64 9.2c0-.637-.057-1.251-.164-1.84H9v3.481h4.844c-.209 1.125-.843 2.078-1.796 2.717v2.258h2.908c1.702-1.567 2.684-3.875 2.684-6.615z" fill="#4285F4"/>
                    <path d="M9 18c2.43 0 4.467-.806 5.956-2.184l-2.908-2.258c-.806.54-1.837.86-3.048.86-2.344 0-4.328-1.584-5.036-3.711H.957v2.332C2.438 15.983 5.482 18 9 18z" fill="#34A853"/>
                    <path d="M3.964 10.707c-.18-.54-.282-1.117-.282-1.707 0-.593.102-1.17.282-1.709V4.958H.957C.347 6.173 0 7.548 0 9c0 1.452.348 2.827.957 4.042l3.007-2.335z" fill="#FBBC05"/>
                    <path d="M9 3.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C13.463.891 11.426 0 9 0 5.482 0 2.438 2.017.957 4.958L3.964 7.29C4.672 5.163 6.656 3.58 9 3.58z" fill="#EA4335"/>
                </svg>
                Continue with Google
            </button>
        </div>
    </div>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-analytics-compat.js"></script>

    <!-- App Scripts -->
    <script src="firebase-config.js"></script>
    <script src="auth.js"></script>
    <script src="storage.js"></script>
    <script src="recipes.js"></script>
    <script src="pantry-vision.js"></script>
    <script src="ui.js"></script>
    <script src="app.js"></script>
</body>
</html>
